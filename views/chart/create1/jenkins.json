{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "type": "object",
  "required": ["project", "hypervisor", "virtualMachines"],
  "properties": {
    "project": {
      "title": "项目",
      "description": "请输入项目的ID或者Name",
      "type": "string"
    },
    "hypervisor": {
      "title": "平台",
      "description": "云平台",
      "type": "string"
    },
    "preferRegion": {
      "title": "区域",
      "description": "请输入区域的ID或者Name",
      "type": "string"
    },
    "preferZone": {
      "title": "可用区",
      "description": "请输入可用区的ID或者Name",
      "type": "string"
    },
    "network": {
      "title": "网络",
      "description": "请输入网络的ID或者Name",
      "type": "string"
    },
    "virtualMachines": {
      "type": "object",
      "title": "虚拟机配置",
      "required": ["masterNode"],
      "properties": {
        "masterNode": {
          "type": "object",
          "title": "主节点",
          "required": [
            "instanceType",
            "image",
            "diskSizeGB",
            "ansiblePlaybook"
          ],
          "properties": {
            "instanceType": {
              "title": "套餐",
              "description": "请输入创建主机套餐的名字",
              "type": "string",
              "default": "ecs.g1.c2m2"
            },
            "image": {
              "title": "镜像",
              "description": "请输入镜像的ID或者Name",
              "default": "CentOS-7.6.1810-20190430.qcow2",
              "type": "string"
            },
            "diskSizeGB": {
              "title": "磁盘大小",
              "description": "请输入磁盘的大小，单位GB",
              "default": 30,
              "type": "integer"
            },
            "ansiblePlaybook": {
              "type": "object",
              "title": "应用配置",
              "properties": {
                "jenkins": {
                  "type": "object",
                  "title": "Jenkins",
                  "properties": {
                    "adminUsername": {
                      "title": "管理员用户名",
                      "default": "admin",
                      "type": "string"
                    },
                    "adminPassword": {
                      "title": "管理员密码",
                      "default": "admin",
                      "type": "string"
                    },
                    "httpPort": {
                      "title": "端口",
                      "default": 8080,
                      "type": "integer"
                    }
                  }
                },
                "telegraf": {
                  "type": "object",
                  "title": "监控配置",
                  "required": [],
                  "properties": {
                    "influxdbName": {
                      "title": "InfluxDB数据库名字",
                      "default": "telegraf",
                      "type": "string"
                    },
                    "influxdbUrl": {
                      "title": "InfluxDB的地址",
                      "type": "string"
                    }
                  }
                }
              }
            }
          }
        },
        "slaveNode": {
          "type": "object",
          "title": "子节点",
          "required": ["count", "instanceType", "image", "diskSizeGB"],
          "properties": {
            "count": {
              "title": "数量",
              "default": 2,
              "type": "integer"
            },
            "instanceType": {
              "title": "套餐",
              "description": "请输入创建主机套餐的名字",
              "type": "string"
            },
            "image": {
              "title": "镜像",
              "description": "请输入镜像的ID或者Name",
              "default": "CentOS-7.6.1810-20190430.qcow2",
              "type": "string"
            },
            "diskSizeGB": {
              "title": "磁盘大小",
              "description": "请输入磁盘的大小，单位GB",
              "default": 30,
              "type": "integer"
            }
          }
        }
      }
    }
  }
}
